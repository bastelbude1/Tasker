# TEST_METADATA: {"description": "Host validation timeout test","test_type": "negative","expected_exit_code": [21, 61],"expected_success": false,"note": "Exit code timing-dependent: 21=DNS resolution failed first, 61=Remote access test failed"}
# Host Validation Timeout Test
# Tests timeout scenarios during host validation
# These tests will timeout during validation and should fail appropriately
#
# **KNOWN TIMING DEPENDENCY:**
# This test has timing-dependent exit code behavior based on when DNS resolution fails.
# Multiple exit codes are valid outcomes:
#   - Exit 21 (HOST_VALIDATION_FAILED): DNS resolution fails before remote access test
#   - Exit 61 (CONNECTION_FAILED): DNS resolves, remote access test fails
#
# The timing depends on:
#   - System load and DNS resolver responsiveness
#   - Network timeout behavior for non-existent hostnames
#   - Order of validation steps (DNS → ping → remote access)
#
# Both outcomes are valid - the test exercises host validation failure paths.
# Under load (RHEL7), DNS resolution typically fails first (exit 21).
# Under normal load, DNS may succeed and remote access test fails (exit 61).

# Task 0: Test pbrun timeout scenario
task=0
hostname=pbrun-timeout-host
command=echo
arguments=This should timeout during validation
exec=pbrun
timeout=5

# Task 1: Test p7s timeout scenario
task=1
hostname=p7s-timeout-host
command=echo
arguments=This should timeout during validation
exec=p7s
timeout=5

# Task 2: Test wwrs timeout scenario
task=2
hostname=wwrs-timeout-host
command=echo
arguments=This should timeout during validation
exec=wwrs
timeout=5