# TEST DEFAULT MAX_PARALLEL = 8
# This test verifies that when max_parallel is not specified,
# it defaults to 8 (not the number of tasks)

# Start task
task=0
hostname=localhost
command=echo
arguments=Testing default max_parallel (should be 8, not 15)
success=exit_0
on_success=1

# Parallel task WITHOUT max_parallel specified
# Should default to 8, not 15
task=1
type=parallel
tasks=101,102,103,104,105,106,107,108,109,110,111,112,113,114,115
timeout=5
on_success=2
on_failure=999
condition=all_success

# 15 worker tasks
task=101
hostname=localhost
command=echo
arguments=Task 101
success=exit_0

task=102
hostname=localhost
command=echo
arguments=Task 102
success=exit_0

task=103
hostname=localhost
command=echo
arguments=Task 103
success=exit_0

task=104
hostname=localhost
command=echo
arguments=Task 104
success=exit_0

task=105
hostname=localhost
command=echo
arguments=Task 105
success=exit_0

task=106
hostname=localhost
command=echo
arguments=Task 106
success=exit_0

task=107
hostname=localhost
command=echo
arguments=Task 107
success=exit_0

task=108
hostname=localhost
command=echo
arguments=Task 108
success=exit_0

task=109
hostname=localhost
command=echo
arguments=Task 109
success=exit_0

task=110
hostname=localhost
command=echo
arguments=Task 110
success=exit_0

task=111
hostname=localhost
command=echo
arguments=Task 111
success=exit_0

task=112
hostname=localhost
command=echo
arguments=Task 112
success=exit_0

task=113
hostname=localhost
command=echo
arguments=Task 113
success=exit_0

task=114
hostname=localhost
command=echo
arguments=Task 114
success=exit_0

task=115
hostname=localhost
command=echo
arguments=Task 115
success=exit_0

# Success
task=2
hostname=localhost
command=echo
arguments=SUCCESS: Default max_parallel=8 working correctly
success=exit_0

# Failure
task=999
hostname=localhost
command=echo
arguments=FAILED
success=exit_0