# TEST_METADATA: {"description": "Test alert receives all 7 environment variables correctly", "test_type": "negative", "expected_exit_code": 1, "expected_success": false, "expected_warnings": 1}

# Test that alert script receives all required environment variables:
# TASKER_LOG_FILE, TASKER_STATE_FILE, TASKER_TASK_FILE, TASKER_FAILED_TASK,
# TASKER_EXIT_CODE, TASKER_ERROR, TASKER_TIMESTAMP

--alert-on-failure=test_cases/bin/test_alert.sh

task=0
hostname=localhost
command=echo
arguments=Starting task
exec=local
success=exit_0

task=1
hostname=localhost
command=false
arguments=
exec=local
success=exit_0
