# TEST_METADATA: {"description": "Global Variable Block test - task field names should cause validation errors", "test_type": "negative", "expected_exit_code": 20, "expected_success": false, "validation_category": "task_field_names", "skip_host_validation": true}
# Test Block 14: Global Variable Definition Block - Task Field Names as Globals
# Tests that task field names cause problems when used as global variable names
# These get silently ignored during parsing, causing undefined variable errors

# Valid global variables (these are OK)
MY_HOSTNAME=localhost
MY_EXEC=local
BASE_COMMAND=echo

# CRITICAL: Task field names get silently ignored during parsing
# This causes undefined variable references when you try to use them
success=this_will_be_ignored
hostname=this_will_be_ignored
command=this_will_be_ignored

# Task 0: This will fail because @success@, @hostname@, @command@ are undefined
# (they were silently ignored during parsing because they match task field names)
task=0
hostname=@MY_HOSTNAME@
exec=@MY_EXEC@
command=@BASE_COMMAND@
arguments=Using ignored vars: @success@, @hostname@, @command@
success=exit_0
next=never