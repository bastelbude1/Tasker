# TEST_METADATA: {"description": "Parallel all_success with single task succeeding - edge case","test_type": "positive","expected_exit_code": 0,"expected_success": true,"skip_host_validation": true,"expected_execution_path": [0,1,2],"expected_subtasks": ["1-10"],"expected_success_count": 1,"expected_failed_count": 0,"expected_condition_met": true,"expected_final_task": 2,"success_condition": "all_success"}
# Test parallel execution with all_success condition
# all_success with single task succeeding - edge case

task=0
hostname=localhost
command=/usr/bin/echo
arguments=Starting all_success test - all_success with single task succeeding - edge case
exec=local

# Parallel block with all_success condition
# Section 10.1: Multi-Task Success Evaluation Block (next)
# If condition met → continue to task 2 (sequential)
# If condition not met → workflow ends
task=1
type=parallel
tasks=10
max_parallel=1
next=all_success

# Subtask 10: SUCCESS (in success pattern)
task=10
hostname=localhost
command=success_pattern.sh
arguments=10 "ALL"
exec=local


# Task 2: Executed only if all_success condition is met
# If condition not met, workflow ends after task 1
task=2
hostname=localhost
command=/usr/bin/echo
arguments=SUCCESS: all_success condition met - 1/1 tasks succeeded
exec=local
return=0
