# TEST_METADATA: {"description": "Parallel min_success=3 with only 2 successes - condition not met","test_type": "negative","expected_exit_code": 10,"expected_success": false,"skip_host_validation": true,"expected_execution_path": [0,1],"expected_subtasks": ["1-10","1-11","1-12","1-13","1-14"],"expected_success_count": 2,"expected_failed_count": 3,"expected_condition_met": false,"expected_final_task": 1,"success_condition": "min_success=3"}
# Test parallel execution with min_success=3 condition
# min_success=3 with only 2 successes - condition not met

task=0
hostname=localhost
command=/usr/bin/echo
arguments=Starting min_success=3 test - min_success=3 with only 2 successes - condition not met
exec=local

# Parallel block with min_success=3 condition
# Section 10.1: Multi-Task Success Evaluation Block (next)
# If condition met -> continue to task 2 (sequential)
# If condition not met -> workflow ends
task=1
type=parallel
tasks=10,11,12,13,14
max_parallel=5
next=min_success=3

# Subtask 10: SUCCESS (in success pattern)
task=10
hostname=localhost
command=success_pattern.sh
arguments=10 "10,11"
exec=local

# Subtask 11: SUCCESS (in success pattern)
task=11
hostname=localhost
command=success_pattern.sh
arguments=11 "10,11"
exec=local

# Subtask 12: FAILED (not in success pattern)
task=12
hostname=localhost
command=success_pattern.sh
arguments=12 "10,11"
exec=local

# Subtask 13: FAILED (not in success pattern)
task=13
hostname=localhost
command=success_pattern.sh
arguments=13 "10,11"
exec=local

# Subtask 14: FAILED (not in success pattern)
task=14
hostname=localhost
command=success_pattern.sh
arguments=14 "10,11"
exec=local


# Task 2: Executed only if min_success=3 condition is met
# If condition not met, workflow ends after task 1
task=2
hostname=localhost
command=/usr/bin/echo
arguments=SUCCESS: min_success=3 condition met - 2/5 tasks succeeded
exec=local
return=0
