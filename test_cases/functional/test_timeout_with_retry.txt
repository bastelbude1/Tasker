# TEST_METADATA: {"description": "Timeout with retry logic test", "test_type": "positive", "expected_exit_code": 0, "expected_success": true, "skip_host_validation": true, "expected_execution_path": [0, 1, 50]}

# Test timeout behavior with retry enabled
# Each retry attempt will also timeout
# Task 0: Introduction
task=0
hostname=localhost
command=echo
arguments=Testing timeout with retry logic - all attempts will timeout
exec=local

# Task 1: Parallel task with timeout and retry
task=1
type=parallel
max_parallel=1
tasks=10
timeout=3
retry_count=2
retry_delay=1
on_success=2
on_failure=50

# Task 2: Success handler (should not execute)
task=2
hostname=localhost
command=echo
arguments=ERROR: Should not execute - all retries should timeout
exec=local
return=1

# Task 10: Subtask that always times out
task=10
hostname=localhost
command=sleep
arguments=10
exec=local

# Task 50: Timeout handler
task=50
hostname=localhost
command=echo
arguments=All retry attempts timed out as expected
exec=local
next=never
