# TEST_METADATA: {"description": "Parallel block with loop tasks - validation should reject", "test_type": "negative", "expected_exit_code": 20, "expected_success": false, "skip_host_validation": true, "validation_only": true}
# Test parallel execution where subtasks have loop parameter
# Loop control is ONLY available for sequential tasks - NOT for parallel/conditional subtasks
# Expected behavior: Validation fails with exit code 20, rejecting loop parameters in subtasks
# This test verifies that loop parameters in parallel subtasks are correctly rejected by validation

task=0
hostname=localhost
command=/usr/bin/echo
arguments=Starting parallel with loops test
exec=local

# Parallel block with loop tasks
task=1
type=parallel
tasks=10,11
max_parallel=2

# Subtask 10 with loop=3
task=10
hostname=localhost
command=/usr/bin/echo
arguments=Parallel subtask 10 iteration
exec=local
loop=3
next=loop

# Subtask 11 with loop=2
task=11
hostname=localhost
command=/usr/bin/echo
arguments=Parallel subtask 11 iteration
exec=local
loop=2
next=loop

task=2
hostname=localhost
command=/usr/bin/echo
arguments=Parallel with loops completed
exec=local
