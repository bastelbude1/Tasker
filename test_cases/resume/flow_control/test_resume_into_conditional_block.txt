# TEST_METADATA: {"description": "Resume from conditional task coordinator", "test_type": "positive", "expected_exit_code": 0, "expected_success": true, "start_from_task": 5, "expected_execution_path": [5, 0, 10], "skip_host_validation": true, "expected_warnings": 1}

# Resume Capability Test: Resume Into Conditional Block
#
# Purpose: Validate resume works with conditional task execution
#
# Test Scenario:
# 1. Tasks before 5: Skipped (before resume point)
# 2. Task 5: Resume point (conditional coordinator)
# 3. Task 0: Condition task (should execute)
# 4. Tasks 5-20, 5-21: Conditional subtasks (should execute based on condition)
# 5. Task 10: Next sequential task
#
# Expected Behavior:
# - Resume from task 5 (conditional coordinator)
# - Task 0 executes to evaluate condition
# - Conditional subtasks execute based on condition
# - Task 10 executes after conditional
# - Exit code: 0 (success)

# Condition task (will execute for condition evaluation)
task=0
hostname=localhost
command=echo
arguments=Condition task - success
exec=local

# Tasks before resume point (will be skipped)
task=1
hostname=localhost
command=echo
arguments=Task 1 - Should be skipped
exec=local

task=2
hostname=localhost
command=echo
arguments=Task 2 - Should be skipped
exec=local

# Resume point - task 5 (conditional coordinator)
task=5
type=conditional
condition=@0_success@=True
tasks=20,21

# Conditional subtasks
task=20
hostname=localhost
command=echo
arguments=Conditional Task 20 (TRUE branch)
exec=local

task=21
hostname=localhost
command=echo
arguments=Conditional Task 21 (TRUE branch)
exec=local

# Next sequential task
task=10
hostname=localhost
command=echo
arguments=Task 10 - After conditional block
exec=local
