# TEST_METADATA: {"description": "Resume from task with retry configuration", "test_type": "positive", "expected_exit_code": 0, "expected_success": true, "start_from_task": 5, "expected_execution_path": [5, 6], "skip_host_validation": true, "expected_warnings": 3}

# Resume Capability Test: Resume with Retry
#
# Purpose: Validate resume works with tasks that have retry configuration
#
# Test Scenario:
# 1. Task 5: Resume point with retry_failed=true, retry_count=3
# 2. Task executes successfully (no retry needed)
# 3. Retry counter starts fresh (not carried from previous run)
#
# Expected Behavior:
# - Resume from task 5
# - Task 5 has retry configuration (unused if successful)
# - Retry counter is reset/fresh for this execution
# - Exit code: 0 (success)

# Tasks before resume point (will be skipped)
task=0
hostname=localhost
command=echo
arguments=Task 0 - Should be skipped
exec=local

task=1
hostname=localhost
command=echo
arguments=Task 1 - Should be skipped
exec=local

task=2
hostname=localhost
command=echo
arguments=Task 2 - Should be skipped
exec=local

task=3
hostname=localhost
command=echo
arguments=Task 3 - Should be skipped
exec=local

task=4
hostname=localhost
command=echo
arguments=Task 4 - Should be skipped
exec=local

# Resume point - task with retry configuration
task=5
hostname=localhost
command=echo
arguments=Task 5 - Resume with retry config (succeeds first try)
exec=local
retry_failed=true
retry_count=3

# Next task
task=6
hostname=localhost
command=echo
arguments=Task 6 - After retry task
exec=local
